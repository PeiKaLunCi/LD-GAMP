clc;
clear;

%data = [1722, 1108, 2021, 2061, 2749, 4864, 5714, 6224, 7138, 8106, 7959, 7275, 7651, 8634, 9905, 10025, 9314, 9993, 12307, 15302, 16584, 13277, 13971, 16346, 17095, 14830, 13355, 14791, 17180, 16645, 17783, 15747, 13090, 10858, 9149, 8383, 23699, 15826, 8511, 6305, 6256, 6015, 4508, 3004, 2449, 1702, 1080, 4034, 4203, 1890];
data = [0.003754595127311736, 0.0024158486649601646, 0.00440652540783799, 0.00449374016108565, 0.005993833916945391, 0.01060531399491538, 0.012458627501428142, 0.013570615605335798, 0.015563472717044816, 0.017674069745638173, 0.017353555527453025, 0.015862183246918047, 0.016682001927446045, 0.018825304488507277, 0.021596553272951652, 0.02185819753269463, 0.020307955293717487, 0.021788425730096504, 0.0268337992054736, 0.03336400385489209, 0.03615923669647958, 0.02894875697172934, 0.03046193294057623, 0.035640308914656006, 0.037273405169218427, 0.03233486976656971, 0.029118825740562272, 0.032249835382153244, 0.0374587365198697, 0.036292239195182256, 0.03877349892507816, 0.03433426798477231, 0.02854102800029653, 0.023674444769077138, 0.01994819443657089, 0.018278031911878212, 0.05167256093040699, 0.03450651712243643, 0.01855711912227072, 0.013747225480662309, 0.013640387407933927, 0.013114918519616778, 0.009829102691011211, 0.006549827968899219, 0.005339723267587945, 0.003710987750687906, 0.002354798337686803, 0.008795607865026448, 0.00916409019749781, 0.004120897090951906];
%data = [0.004003785714597244, 0.006420013694866169, 0.010827230976566078, 0.015321676705207102, 0.02131645172123533, 0.031923430869275085, 0.04438401451481357, 0.05795676085885129, 0.07352267721549352, 0.09119952198811077, 0.10855580221821941, 0.12442047600563495, 0.141105097194297, 0.15993335746653697, 0.18153330164033094, 0.20339493115494825, 0.22370607502518722, 0.24549792178225163, 0.27233593419485963, 0.3057051765721837, 0.3418700906739706, 0.3708233929249007, 0.4012901087302591, 0.43693601357274636, 0.47421527108420597, 0.5065552177876249, 0.5356786155100901, 0.5679335144777414, 0.605398132438951, 0.6416960699223231, 0.6804756567211699, 0.7148153155707139, 0.7433608248321942, 0.7670389867543603, 0.7869903132809671, 0.8052712150486516, 0.8569518891500896, 0.8914638241823424, 0.9100238569802384, 0.9237732409293319, 0.9374157700309225, 0.9505327477396929, 0.9603633937099567, 0.9669142500752346, 0.9722548117392044, 0.9759663821565489, 0.9783215502239591, 0.9871185390979706, 0.9962840681603085, 1.0];
%index = (0:length(data)-1)/length(data);
index = (1:2:99) / 100;

coffice = polyfit(index, data, 6)

PolyVal = polyval(coffice, index);

plot(index, data, 'red--')
hold on

plot(index, PolyVal, 'b:.')
hold on

%legend('data','PolyVal')

%syms x_sys x_min x_max;

%f0 = max(x_min, min(x_max, 13.2794*x_sys^6+(-34.8147)*x_sys^5+31.3319*x_sys^4+(-12.9506)*x_sys^3+4.2219*x_sys^2+(-0.0689)*x_sys^1+0.0040));
%f0 = -2.7334*x_sys^3+4.1520*x_sys^2+(-0.4599)*x_sys^1+0.0295;

%f1 = abs(6*13.2794*x_sys^5+5*(-34.8147)*x_sys^4+4*31.3319*x_sys^3+3*(-12.9506)*x_sys^2+2*4.2219*x_sys^1+(-0.0689));
%f = abs((-0.0570)*x_sys^3+(-0.0533)*x_sys^2+(0.1070)*x_sys^1+(-0.0015));
%c_f0 = int(f1, x_sys, 0, 1);
%c_f1 = 0.0201;
%delta = 0.0100000000000000
%tmp0 = (f * delta) / c_f1;
%tmp1 = int(tmp0, x_sys, 0, 1);
syms x_sys;
f0 = 1.2444*x_sys^6+(-2.2477)*x_sys^5+1.0243*x_sys^4+(-0.0088)*x_sys^3+(-0.0897)*x_sys^2+0.0862*x_sys^1+0.0010;

double(subs(f0, x_sys, 0))
double(subs(f0, x_sys, 0.5))
double(subs(f0, x_sys, 1))
c_f0 = int(f0, x_sys, 0, 1);
double(c_f0)
%double(subs(f1, x_sys, 0))
%double(subs(f1, x_sys, 0.5))
%double(subs(f1, x_sys, 1))
%double(c_f0)

%double(c_f1)
%double(subs(tmp0, x_sys, 0.5))
%double(subs(tmp1))
